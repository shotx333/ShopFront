<h2>Change Password</h2>

<form [formGroup]="form" (ngSubmit)="submit()" novalidate>
  <div>
    <label for="oldPassword">Current password</label>
    <input id="oldPassword" type="password" formControlName="oldPassword">
    <div class="error-msg"
         *ngIf="form.controls['oldPassword'].invalid && form.controls['oldPassword'].touched">
      Current password is required
    </div>
  </div>

  <div>
    <label for="newPassword">New password</label>
    <input id="newPassword" type="password" formControlName="newPassword">
    <div class="error-msg"
         *ngIf="form.controls['newPassword'].invalid && form.controls['newPassword'].touched">
      Must be at least 8 characters
    </div>
  </div>

  <div>
    <label for="confirmPassword">Confirm new password</label>
    <input id="confirmPassword" type="password" formControlName="confirmPassword">
    <div class="error-msg"
         *ngIf="form.hasError('mismatch') && form.controls['confirmPassword'].touched">
      Passwords do not match
    </div>
  </div>

  <button type="submit" [disabled]="form.invalid">Change password</button>

  <p class="success-msg" *ngIf="success">{{ success }}</p>
  <p class="error-msg" style="color: red"  *ngIf="error">{{ error }}</p>
</form>
